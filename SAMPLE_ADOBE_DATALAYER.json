/**
 * TLAirways - Adobe Experience Platform (AEP) Data Layer
 * Sample Purchase Event - Complete Booking Confirmation
 * 
 * @copyright 2025 TLAirways. All Rights Reserved.
 * @author Ritesh V G
 * @github https://github.com/riteshvg/tlpairways
 * 
 * This sample demonstrates the complete Adobe Data Layer structure for a flight booking
 * purchase event, including:
 * - Revenue tracking with detailed pricing breakdown
 * - Customer information with SHA256 hashed identifiers
 * - Comprehensive booking context
 * - Search criteria and performance metrics
 * - Flight details for onward and return journeys
 * - Ancillary services tracking
 * - Bureau of Civil Aviation Security (BCAS) compliance
 * - Sustainability impact calculations
 * 
 * Note: This is a sample object. Real data layer events are pushed dynamically
 * based on user interactions during the booking flow.
 */

{
  "event": "purchase",
  "eventData": {
    "revenue": {
      "transactionId": "TXN20251023456789ABC",
      "totalRevenue": 85230,
      "currency": "INR",
      "products": [
        {
          "productId": "flight",
          "productName": "Flight 6E-234",
          "category": "flight",
          "subcategory": "onward",
          "price": 45000,
          "quantity": 2,
          "currency": "INR",
          "origin": "BLR",
          "destination": "DEL",
          "departureDate": "2025-11-15",
          "cabinClass": "economy"
        },
        {
          "productId": "flight",
          "productName": "Flight 6E-789",
          "category": "flight",
          "subcategory": "return",
          "price": 42000,
          "quantity": 2,
          "currency": "INR",
          "origin": "DEL",
          "destination": "BLR",
          "departureDate": "2025-11-20",
          "cabinClass": "economy"
        },
        {
          "productId": "seat_selection",
          "productName": "Seat Selection - onward",
          "category": "ancillary",
          "subcategory": "seatSelection",
          "price": 2000,
          "quantity": 2,
          "currency": "INR",
          "journey": "onward"
        },
        {
          "productId": "meal",
          "productName": "Meal - onward",
          "category": "ancillary",
          "subcategory": "meal",
          "price": 0,
          "quantity": 2,
          "currency": "INR",
          "mealType": "Vegetarian",
          "journey": "onward"
        },
        {
          "productId": "baggage",
          "productName": "Baggage 20 kg - onward",
          "category": "ancillary",
          "subcategory": "baggage",
          "price": 1500,
          "quantity": 2,
          "currency": "INR",
          "baggageType": "20 kg",
          "journey": "onward"
        },
        {
          "productId": "priorityBoarding",
          "productName": "Priority Boarding - onward",
          "category": "ancillary",
          "subcategory": "priorityBoarding",
          "price": 1000,
          "quantity": 2,
          "currency": "INR",
          "journey": "onward"
        }
      ],
      "bookingReference": "PNR2025102345ABCD",
      "paymentMethod": "credit card",
      "paymentMode": "cash",
      "paymentStatus": "completed",
      "timestamp": "2025-10-23T15:54:44.123Z"
    },
    "paymentDetails": {
      "paymentType": "credit card",
      "paymentMode": "cash",
      "paymentCurrency": "INR",
      "paymentCategories": {
        "baseFare": 87000,
        "ancillaryFare": 4500,
        "taxes": 2800,
        "convenienceFee": 350,
        "surcharge": 180,
        "totalFees": 3330,
        "totalAmount": 85230
      },
      "pnr": "PNR2025102345ABCD",
      "bookingId": "TXN20251023456789ABC",
      "passengers": 2,
      "tripType": "roundtrip"
    },
    "customer": {
      "userId": "deepak.patel0@rediffmail.com",
      "email": "deepak.patel0@rediffmail.com",
      "phone": "650666803",
      "loyaltyTier": "standard",
      "userIdHash": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
      "phoneHash": "5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8",
      "hashingTimestamp": "2025-10-23T15:54:44.123Z",
      "hashingAlgorithm": "SHA256"
    },
    "searchContext": {
      "searchId": "search_1698096884_k9x7y2z3",
      "origin": "BLR",
      "destination": "DEL",
      "originDestination": "BLR-DEL",
      "departureDate": "2025-11-15",
      "returnDate": "2025-11-20",
      "travelDay": "Saturday",
      "numberOfDays": 5,
      "passengers": {
        "total": 2,
        "breakdown": {
          "adults": {
            "count": 2,
            "type": "adult",
            "description": "12+ years"
          },
          "children": {
            "count": 0,
            "type": "child",
            "description": "2-11 years"
          },
          "infants": {
            "count": 0,
            "type": "infant",
            "description": "Under 2 years"
          }
        },
        "summary": "adult: 2"
      },
      "cabinClass": "economy",
      "tripType": "roundtrip",
      "travelPurpose": "personal",
      "searchDateTime": "2025-10-23",
      "searchCriteria": {
        "originAirport": "BLR",
        "originAirportName": "Kempegowda International Airport",
        "originCity": "Bangalore",
        "originCountry": "India",
        "destinationAirport": "DEL",
        "destinationAirportName": "Indira Gandhi International Airport",
        "destinationCity": "New Delhi",
        "destinationCountry": "India",
        "departureDate": "2025-11-15",
        "returnDate": "2025-11-20",
        "tripType": "roundtrip",
        "passengers": {
          "adults": 2,
          "children": 0,
          "infants": 0,
          "total": 2
        },
        "cabinClass": "economy",
        "travelPurpose": "personal",
        "searchDateTime": "2025-10-23",
        "flexibleDates": false,
        "directFlightsOnly": false
      },
      "distanceKm": 1740,
      "specialDays": {
        "onward": {
          "is_special": false,
          "special_day": null,
          "special_type": null,
          "country": null
        },
        "return": {
          "is_special": false,
          "special_day": null,
          "special_type": null,
          "country": null
        },
        "hasSpecialDays": false
      },
      "revenueData": {
        "potential_revenue": 85230,
        "avg_revenue_per_user": 42615,
        "booking_probability_score": 1.0,
        "estimated_conversion_value": 85230,
        "revenue_bucket": "high_value",
        "currency": {
          "code": "INR",
          "symbol": "â‚¹",
          "name": "Indian Rupee"
        }
      },
      "geography": {
        "userLocation": {
          "country": "India",
          "state": "Karnataka",
          "city": "Bangalore",
          "timezone": "Asia/Kolkata",
          "ipCountry": "India",
          "currency": "INR",
          "language": "en-US"
        }
      },
      "searchPerformance": {
        "searchDurationMs": 450,
        "resultsLoadedAt": "2025-10-23T15:52:30.000Z",
        "searchAbandoned": false
      }
    },
    "booking": {
      "tripType": "roundtrip",
      "cabinClass": "economy",
      "passengers": 2,
      "origin": "BLR",
      "destination": "DEL",
      "departureDate": "2025-11-15",
      "returnDate": "2025-11-20",
      "sectorType": "domestic",
      "haulType": {
        "onward": "short haul",
        "return": "short haul",
        "overall": "short haul"
      }
    },
    "sustainabilityImpact": {
      "carbonFootprint": 444,
      "distance": 1740,
      "treesPlanted": 1,
      "carbonOffset": 444,
      "sustainabilityContribution": 50,
      "impactType": "carbonFootprint",
      "contributionType": "treesPlanted",
      "timestamp": "2025-10-23T15:54:44.123Z"
    }
  },
  "timestamp": "2025-10-23T15:54:44.123Z"
}

/**
 * Additional Events in the Booking Flow:
 * 
 * 1. Flight Search Event:
 *    - event: "searchInitiated"
 *    - Tracks search parameters and user intent
 * 
 * 2. Flight Selection Event:
 *    - event: "flightSelected"
 *    - Tracks which flight was selected and position in results
 * 
 * 3. Proceed to Traveller Details:
 *    - event: "proceedToAncillaryServices"
 *    - Tracks transition to passenger information step
 * 
 * 4. Ancillary Services Selection:
 *    - event: "proceedToPayment"
 *    - Tracks selected seats, meals, baggage, and other services
 * 
 * 5. Payment Submission:
 *    - event: "paymentSubmitted"
 *    - Tracks payment method and transaction details
 * 
 * 6. Booking Confirmation:
 *    - event: "purchase" (shown above)
 *    - Complete purchase event with all booking details
 * 
 * For more information on the implementation:
 * - Repository: https://github.com/riteshvg/tlpairways
 * - Documentation: /documentation folder
 * - Data Layer Service: frontend/src/services/AirlinesDataLayer.js
 */

